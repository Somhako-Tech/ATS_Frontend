import VendorSideBar from "@/components/vendor/Sidebar";
import VendorTopBar from "@/components/vendor/TopBar";
import Head from "next/head";
import { Dialog, Tab, Transition } from '@headlessui/react'
import { Fragment, useRef, useState } from 'react'
import UploadProfile from "@/components/UploadProfile";
import FormField from "@/components/FormField";
import Button from "@/components/Button";

export default function VendorSettings() {
    const cancelButtonRef = useRef(null);
    const [changePass, setChangePass] = useState(false);
    const tabHeading_1 = [
        {
            title: 'Profile'
        },
        {
            title: 'Agreement'
        }
    ]
    return (
        <>
            <Head>
				<title>Vendor | Settings</title>
				<meta name="description" content="Generated by create next app" />
			</Head>
			<main>
				<VendorSideBar />
				<VendorTopBar />
				<div id="overlay" className="fixed left-0 top-0 z-[9] hidden h-full w-full bg-[rgba(0,0,0,0.2)] dark:bg-[rgba(255,255,255,0.2)]"></div>
				<div className="layoutWrap p-4 lg:p-8">
                    <div className="relative bg-white dark:bg-gray-800 rounded-normal shadow-normal">
                        <h1 className="font-bold text-2xl pb-0 p-10 mb-3">Settings</h1>
                        <Tab.Group>
                            <div className="border-b dark:border-b-gray-600">
                                <Tab.List className={"px-4 w-full max-w-[1150px] mx-auto"}>
                                    {tabHeading_1.map((item, i)=> 
                                    <Tab key={i} as={Fragment}>
                                        {({ selected }) => (
                                            <button
                                                className={
                                                    "border-b-4 py-3 px-6 font-semibold focus:outline-none" +
                                                    " " +
                                                    (selected ? "border-primary text-primary" : "border-transparent text-darkGray dark:text-gray-400")
                                                }
                                            >
                                                {item.title}
                                            </button>
                                        )}
                                    </Tab>
                                    )}
                                </Tab.List>
                            </div>
                            <Tab.Panels>
                                <Tab.Panel>
                                    <div className="px-4 py-6 w-full max-w-[1150px] mx-auto">
                                        <div className="mb-4">
                                            <UploadProfile note="Supported Formats 2 mb  : Png , Jpeg" />
                                        </div>
                                        <div className="flex flex-wrap -mx-3">
                                            <div className="w-full md:max-w-[50%] px-3 mb-4">
                                                <FormField label="Company Name" fieldType="input" inputType="text" />
                                            </div>
                                            <div className="w-full md:max-w-[50%] px-3 mb-4">
                                                <FormField label="Email" fieldType="input" inputType="email" required />
                                            </div>
                                        </div>
                                        <FormField label="Agent Name" fieldType="input" inputType="text" />
                                        <div className="flex flex-wrap -mx-3">
                                            <div className="w-full md:max-w-[50%] px-3 mb-4">
                                                <FormField label="Contact Number" fieldType="input" inputType="number" />
                                            </div>
                                            <div className="w-full md:max-w-[50%] px-3 mb-4">
                                                <FormField label="Contact Number (Optional)" fieldType="input" inputType="number" />
                                            </div>
                                            <div className="w-full md:max-w-[50%] px-3 mb-4">
                                                <FormField label="License Number" fieldType="input" inputType="text" />
                                            </div>
                                            <div className="w-full md:max-w-[50%] px-3 mb-4">
                                                <FormField label="Headquarter Address" fieldType="input" inputType="text" required />
                                            </div>
                                        </div>
                                        <hr className="my-4" />
                                        <div>
                                            <h6 className="mb-1 font-bold">
                                                Password Settings
                                            </h6>
                                            <Button btnType="button" label="Change Password" handleClick={() => setChangePass(true)} />
                                        </div>
                                    </div>
                                </Tab.Panel>
                                <Tab.Panel>
                                    <div className="px-4 py-6 w-full max-w-[1150px] mx-auto">
                                        <p className="mb-4">Agreement Preview Here</p>
                                        <div className="w-full md:max-w-[50%] flex flex-wrap">
                                            <h6 className="mb-2 font-bold w-full">Agreement Validity</h6>
                                            <div className="w-full md:max-w-[50%] pr-2">
                                                <FormField
                                                    id={"start"}
                                                    fieldType="date"
                                                    placeholder="Start Time"
                                                    singleSelect
                                                    showTimeSelect
                                                    showHours
                                                    required
                                                />
                                            </div>
                                            <div className="w-full md:max-w-[50%] pl-2">
                                                <FormField
                                                    id={"end"}
                                                    fieldType="date"
                                                    placeholder="End Time"
                                                    singleSelect
                                                    showTimeSelect
                                                    showHours
                                                    required
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </Tab.Panel>
                            </Tab.Panels>
                        </Tab.Group>
                    </div>
                </div>
            </main>
            <Transition.Root show={changePass} as={Fragment}>
				<Dialog as="div" className="relative z-40" initialFocus={cancelButtonRef} onClose={setChangePass}>
					<Transition.Child
						as={Fragment}
						enter="ease-out duration-300"
						enterFrom="opacity-0"
						enterTo="opacity-100"
						leave="ease-in duration-200"
						leaveFrom="opacity-100"
						leaveTo="opacity-0"
					>
						<div className="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" />
					</Transition.Child>

					<div className="fixed inset-0 z-10 overflow-y-auto">
						<div className="flex min-h-full items-end justify-center p-4 text-center sm:items-center">
							<Transition.Child
								as={Fragment}
								enter="ease-out duration-300"
								enterFrom="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
								enterTo="opacity-100 translate-y-0 sm:scale-100"
								leave="ease-in duration-200"
								leaveFrom="opacity-100 translate-y-0 sm:scale-100"
								leaveTo="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
							>
								<Dialog.Panel className="relative w-full transform overflow-hidden rounded-[30px] bg-[#FBF9FF] text-left text-black shadow-xl transition-all dark:bg-gray-800 dark:text-white sm:my-8 sm:max-w-lg">
									<div className="flex items-center justify-between bg-gradient-to-b from-gradLightBlue to-gradDarkBlue px-8 py-3 text-white">
										<h4 className="flex items-center font-semibold leading-none">
											Change Password
										</h4>
										<button
											type="button"
											className="leading-none hover:text-gray-700"
											onClick={() => setChangePass(false)}
										>
											<i className="fa-solid fa-xmark"></i>
										</button>
									</div>
									<div className="p-8">
                                        <FormField
                                            fieldType="input"
                                            inputType="password"
                                            label="Old Password"
                                            required
                                        />
                                        <FormField
                                            fieldType="input"
                                            inputType="password"
                                            label="New Password"
                                            required
                                        />
                                        <FormField
                                            fieldType="input"
                                            inputType="password"
                                            label="Confirm Password"
                                            required
                                        />
                                        <div className="text-center">
                                            <Button label="Submit" />
                                        </div>
									</div>
								</Dialog.Panel>
							</Transition.Child>
						</div>
					</div>
				</Dialog>
			</Transition.Root>
        </>
    )
}